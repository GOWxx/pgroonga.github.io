msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

msgid ""
"---\n"
"title: pgroonga_wal_set_applied_position function\n"
"upper_level: ../\n"
"---"
msgstr ""

msgid "# `pgroonga_wal_set_applied_position` function"
msgstr ""

msgid "Since 3.1.5."
msgstr ""

msgid "## Summary"
msgstr ""

msgid "`pgroonga_wal_set_applied_position` function sets WAL position that is already applied. Normally, you don't need to use this function because WAL position that is already applied isn't invalid."
msgstr ""

msgid "## Syntax"
msgstr ""

msgid "Here is the syntax of this function:"
msgstr ""

msgid ""
"```text\n"
"bool pgroonga_wal_set_applied_position()\n"
"bool pgroonga_wal_set_applied_position(pgroonga_index_name)\n"
"bool pgroonga_wal_set_applied_position(block, offset)\n"
"bool pgroonga_wal_set_applied_position(pgroonga_index_name, block, offset)\n"
"```"
msgstr ""

msgid "`pgroonga_index_name` is a `text` type value. It's a PGroonga index name to be set WAL applied position. If this is omitted, all PGroonga indexes are targeted."
msgstr ""

msgid "`block` and `offset` are `bigint` type values. They specify position by a block number and an offset in the block. If they are omitted, this function sets the last block and offset. It means that all existing WAL are applied. Normally, they are omitted because specifying valid block and offset is difficult."
msgstr ""

msgid "Note that you can see the current WAL positions by [`pgroonga_wal_status` function][wal-status]."
msgstr ""

msgid "It returns `true` on success, `false` otherwise. But `false` will not be returned because an error is raised on error."
msgstr ""

msgid "## Usage"
msgstr ""

msgid "Here are sample schema and data:"
msgstr ""

msgid ""
"```sql\n"
"SET pgroonga.enable_wal = yes;"
msgstr ""

msgid ""
"CREATE TABLE memos (\n"
"  content text\n"
");"
msgstr ""

msgid ""
"CREATE INDEX pgroonga_memos_index\n"
"          ON memos\n"
"       USING pgroonga (content);"
msgstr ""

msgid ""
"INSERT INTO memos VALUES ('PGroonga (PostgreSQL+Groonga) is great!');\n"
"```"
msgstr ""

msgid "Simulate a PGroonga index is removed but WAL is still alive situation:"
msgstr ""

msgid ""
"```sql\n"
"SELECT pgroonga_command('table_remove',\n"
"                        ARRAY[\n"
"                          'name', 'Lexicon' ||\n"
"                                  'pgroonga_memos_index'::regclass::oid ||\n"
"                                  '_0'\n"
"                        ])::json->>1;\n"
"--  ?column? \n"
"-- ----------\n"
"--  true\n"
"-- (1 row)\n"
"SELECT pgroonga_command('table_remove',\n"
"                        ARRAY[\n"
"                          'name', pgroonga_table_name('pgroonga_memos_index')\n"
"                        ])::json->>1;\n"
"--  ?column? \n"
"-- ----------\n"
"--  true\n"
"-- (1 row)\n"
"```"
msgstr ""

msgid "In this situation, `SELECT` that uses the PGroonga index raises an error:"
msgstr ""

msgid ""
"```sql\n"
"SET enable_seqscan = no;\n"
"SELECT * FROM memos WHERE content &@~ 'PGroonga';\n"
"--- ERROR:  pgroonga: object isn't found: <Sources17853>\n"
"```"
msgstr ""

msgid "We can re-create the removed index by re-applying existing WAL. To do this, we can set WAL applied position to the beginning (both of `block` and `offset` are `0`):"
msgstr ""

msgid ""
"```sql\n"
"SELECT pgroonga_wal_set_applied_position('pgroonga_memos_index', 0, 0);\n"
"--  pgroonga_wal_set_applied_position \n"
"-- -----------------------------------\n"
"--  t\n"
"-- (1 row)\n"
"```"
msgstr ""

msgid "The pending WAL are automatically applied when the PGroonga index is used:"
msgstr ""

msgid ""
"```sql\n"
"SELECT * FROM memos WHERE content &@~ 'PGroonga';\n"
"--                  content                 \n"
"-- -----------------------------------------\n"
"--  PGroonga (PostgreSQL+Groonga) is great!\n"
"-- (1 row)\n"
"```"
msgstr ""

msgid "## See also"
msgstr ""

msgid "  * [`pgroonga.enable_wal` parameter][enable-wal]"
msgstr ""

msgid "  * [`pgroonga_wal_status` function][wal-status]"
msgstr ""

msgid "[enable-wal]:../parameters/enable-wal.html"
msgstr ""

msgid "[wal-status]:pgroonga-wal-status.html"
msgstr ""
